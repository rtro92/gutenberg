"use strict";(self.webpackChunkgutenberg=self.webpackChunkgutenberg||[]).push([[9201],{"./packages/components/src/dropdown-menu/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>DropdownMenu,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_wordpress_icons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/icons/build-module/library/menu.js"),_ui_context__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/components/src/ui/context/use-context-system.js"),_ui_context__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/src/ui/context/context-connect.ts"),_button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/components/src/button/index.tsx"),_dropdown__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/src/dropdown/index.tsx"),_navigable_container__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/components/src/navigable-container/menu.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function mergeProps(defaultProps={},props={}){const mergedProps={...defaultProps,...props};return props.className&&defaultProps.className&&(mergedProps.className=classnames__WEBPACK_IMPORTED_MODULE_0___default()(props.className,defaultProps.className)),mergedProps}function isFunction(maybeFunc){return"function"==typeof maybeFunc}function UnconnectedDropdownMenu(dropdownMenuProps){const{children,className,controls,icon=_wordpress_icons__WEBPACK_IMPORTED_MODULE_2__.Z,label,popoverProps,toggleProps,menuProps,disableOpenOnArrowDown=!1,text,noIcons,variant}=(0,_ui_context__WEBPACK_IMPORTED_MODULE_3__.y)(dropdownMenuProps,"DropdownMenu");if(!controls?.length&&!isFunction(children))return null;let controlSets;controls?.length&&(controlSets=controls,Array.isArray(controlSets[0])||(controlSets=[controls]));const mergedPopoverProps=mergeProps({className:"components-dropdown-menu__popover",variant},popoverProps);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_dropdown__WEBPACK_IMPORTED_MODULE_4__.Z,{className,popoverProps:mergedPopoverProps,renderToggle:({isOpen,onToggle})=>{var _toggleProps$showTool;const{as:Toggle=_button__WEBPACK_IMPORTED_MODULE_5__.ZP,...restToggleProps}=null!=toggleProps?toggleProps:{},mergedToggleProps=mergeProps({className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-dropdown-menu__toggle",{"is-opened":isOpen})},restToggleProps);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Toggle,{...mergedToggleProps,icon,onClick:event=>{onToggle(),mergedToggleProps.onClick&&mergedToggleProps.onClick(event)},onKeyDown:event=>{(event=>{disableOpenOnArrowDown||isOpen||"ArrowDown"!==event.code||(event.preventDefault(),onToggle())})(event),mergedToggleProps.onKeyDown&&mergedToggleProps.onKeyDown(event)},"aria-haspopup":"true","aria-expanded":isOpen,label,text,showTooltip:null===(_toggleProps$showTool=toggleProps?.showTooltip)||void 0===_toggleProps$showTool||_toggleProps$showTool,children:mergedToggleProps.children})},renderContent:props=>{const mergedMenuProps=mergeProps({"aria-label":label,className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-dropdown-menu__menu",{"no-icons":noIcons})},menuProps);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_navigable_container__WEBPACK_IMPORTED_MODULE_6__.ZP,{...mergedMenuProps,role:"menu",children:[isFunction(children)?children(props):null,controlSets?.flatMap(((controlSet,indexOfSet)=>controlSet.map(((control,indexOfControl)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_button__WEBPACK_IMPORTED_MODULE_5__.ZP,{onClick:event=>{event.stopPropagation(),props.onClose(),control.onClick&&control.onClick()},className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-dropdown-menu__menu-item",{"has-separator":indexOfSet>0&&0===indexOfControl,"is-active":control.isActive,"is-icon-only":!control.title}),icon:control.icon,label:control.label,"aria-checked":"menuitemcheckbox"===control.role||"menuitemradio"===control.role?control.isActive:void 0,role:"menuitemcheckbox"===control.role||"menuitemradio"===control.role?control.role:"menuitem",disabled:control.isDisabled,children:control.title},[indexOfSet,indexOfControl].join())))))]})}})}UnconnectedDropdownMenu.displayName="UnconnectedDropdownMenu";const DropdownMenu=(0,_ui_context__WEBPACK_IMPORTED_MODULE_7__.Kc)(UnconnectedDropdownMenu,"DropdownMenu"),__WEBPACK_DEFAULT_EXPORT__=DropdownMenu},"./packages/components/src/gradient-picker/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/i18n/build-module/index.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/deprecated/build-module/index.js"),_circular_option_picker__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/components/src/circular-option-picker/index.tsx"),_custom_gradient_picker__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/components/src/custom-gradient-picker/index.tsx"),_v_stack__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/src/v-stack/component.tsx"),_color_palette_styles__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/components/src/color-palette/styles.ts"),_spacer__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/src/spacer/component.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const isMultipleOriginArray=arr=>arr.length>0&&arr.every((gradientObj=>{return obj=gradientObj,Array.isArray(obj.gradients)&&!("gradient"in obj);var obj}));function SingleOrigin({className,clearGradient,gradients,onChange,value,actions}){const gradientOptions=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useMemo)((()=>gradients.map((({gradient,name},index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_3__.ZP.Option,{value:gradient,isSelected:value===gradient,tooltipText:name||(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Gradient code: %s"),gradient),style:{color:"rgba( 0,0,0,0 )",background:gradient},onClick:value===gradient?clearGradient:()=>onChange(gradient,index),"aria-label":name?(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Gradient: %s"),name):(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Gradient code: %s"),gradient)},gradient)))),[gradients,value,onChange,clearGradient]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_3__.ZP,{className,options:gradientOptions,actions})}function MultipleOrigin({className,clearGradient,gradients,onChange,value,actions,headingLevel}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_v_stack__WEBPACK_IMPORTED_MODULE_4__.Z,{spacing:3,className,children:gradients.map((({name,gradients:gradientSet},index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_v_stack__WEBPACK_IMPORTED_MODULE_4__.Z,{spacing:2,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_color_palette_styles__WEBPACK_IMPORTED_MODULE_5__.A,{level:headingLevel,children:name}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SingleOrigin,{clearGradient,gradients:gradientSet,onChange:gradient=>onChange(gradient,index),value,...gradients.length===index+1?{actions}:{}})]},index)))})}function Component(props){return isMultipleOriginArray(props.gradients)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MultipleOrigin,{...props}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SingleOrigin,{...props})}function GradientPicker({__nextHasNoMargin=!1,className,gradients=[],onChange,value,clearable=!0,disableCustomGradients=!1,__experimentalIsRenderedInSidebar,headingLevel=2}){const clearGradient=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useCallback)((()=>onChange(void 0)),[onChange]);__nextHasNoMargin||(0,_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_6__.Z)("Outer margin styles for wp.components.GradientPicker",{since:"6.1",version:"6.4",hint:"Set the `__nextHasNoMargin` prop to true to start opting into the new styles, which will become the default in a future version"});const deprecatedMarginSpacerProps=__nextHasNoMargin?{}:{marginTop:gradients.length?void 0:3,marginBottom:clearable?0:6};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_spacer__WEBPACK_IMPORTED_MODULE_7__.Z,{marginBottom:0,...deprecatedMarginSpacerProps,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_v_stack__WEBPACK_IMPORTED_MODULE_4__.Z,{spacing:gradients.length?4:0,children:[!disableCustomGradients&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_custom_gradient_picker__WEBPACK_IMPORTED_MODULE_8__.Z,{__nextHasNoMargin:!0,__experimentalIsRenderedInSidebar,value,onChange}),(gradients.length||clearable)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Component,{className,clearGradient,gradients,onChange,value,actions:clearable&&!disableCustomGradients&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_3__.ZP.ButtonAction,{onClick:clearGradient,children:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Clear")}),headingLevel})]})})}SingleOrigin.displayName="SingleOrigin",MultipleOrigin.displayName="MultipleOrigin",Component.displayName="Component",GradientPicker.displayName="GradientPicker";const __WEBPACK_DEFAULT_EXPORT__=GradientPicker},"./packages/components/src/navigable-container/container.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_wordpress_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/dom/build-module/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const noop=()=>{},MENU_ITEM_ROLES=["menuitem","menuitemradio","menuitemcheckbox"];class NavigableContainer extends _wordpress_element__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(args){super(args),this.onKeyDown=this.onKeyDown.bind(this),this.bindContainer=this.bindContainer.bind(this),this.getFocusableContext=this.getFocusableContext.bind(this),this.getFocusableIndex=this.getFocusableIndex.bind(this)}componentDidMount(){this.container&&this.container.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){this.container&&this.container.removeEventListener("keydown",this.onKeyDown)}bindContainer(ref){const{forwardedRef}=this.props;this.container=ref,"function"==typeof forwardedRef?forwardedRef(ref):forwardedRef&&"current"in forwardedRef&&(forwardedRef.current=ref)}getFocusableContext(target){if(!this.container)return null;const{onlyBrowserTabstops}=this.props,focusables=(onlyBrowserTabstops?_wordpress_dom__WEBPACK_IMPORTED_MODULE_2__.T_.tabbable:_wordpress_dom__WEBPACK_IMPORTED_MODULE_2__.T_.focusable).find(this.container),index=this.getFocusableIndex(focusables,target);return index>-1&&target?{index,target,focusables}:null}getFocusableIndex(focusables,target){return focusables.indexOf(target)}onKeyDown(event){this.props.onKeyDown&&this.props.onKeyDown(event);const{getFocusableContext}=this,{cycle=!0,eventToOffset,onNavigate=noop,stopNavigationEvents}=this.props,offset=eventToOffset(event);if(void 0!==offset&&stopNavigationEvents){event.stopImmediatePropagation();const targetRole=event.target?.getAttribute("role");!!targetRole&&MENU_ITEM_ROLES.includes(targetRole)&&event.preventDefault()}if(!offset)return;const activeElement=event.target?.ownerDocument?.activeElement;if(!activeElement)return;const context=getFocusableContext(activeElement);if(!context)return;const{index,focusables}=context,nextIndex=cycle?function cycleValue(value,total,offset){const nextValue=value+offset;return nextValue<0?total+nextValue:nextValue>=total?nextValue-total:nextValue}(index,focusables.length,offset):index+offset;nextIndex>=0&&nextIndex<focusables.length&&(focusables[nextIndex].focus(),onNavigate(nextIndex,focusables[nextIndex]),"Tab"===event.code&&event.preventDefault())}render(){const{children,stopNavigationEvents,eventToOffset,onNavigate,onKeyDown,cycle,onlyBrowserTabstops,forwardedRef,...restProps}=this.props;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:this.bindContainer,...restProps,children})}}NavigableContainer.displayName="NavigableContainer";const forwardedNavigableContainer=(props,ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(NavigableContainer,{...props,forwardedRef:ref});forwardedNavigableContainer.displayName="forwardedNavigableContainer",forwardedNavigableContainer.displayName="NavigableContainer";const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(forwardedNavigableContainer)},"./packages/components/src/navigable-container/menu.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_container__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/src/navigable-container/container.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");function UnforwardedNavigableMenu({role="menu",orientation="vertical",...rest},ref){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_container__WEBPACK_IMPORTED_MODULE_1__.Z,{ref,stopNavigationEvents:!0,onlyBrowserTabstops:!1,role,"aria-orientation":"presentation"===role||"vertical"!==orientation&&"horizontal"!==orientation?void 0:orientation,eventToOffset:evt=>{const{code}=evt;let next=["ArrowDown"],previous=["ArrowUp"];return"horizontal"===orientation&&(next=["ArrowRight"],previous=["ArrowLeft"]),"both"===orientation&&(next=["ArrowRight","ArrowDown"],previous=["ArrowLeft","ArrowUp"]),next.includes(code)?1:previous.includes(code)?-1:["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(code)?0:void 0},...rest})}UnforwardedNavigableMenu.displayName="UnforwardedNavigableMenu";const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(UnforwardedNavigableMenu)},"./packages/icons/build-module/library/line-solid.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M5 11.25h14v1.5H5z"}))},"./packages/icons/build-module/library/menu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M5 5v1.5h14V5H5zm0 7.8h14v-1.5H5v1.5zM5 19h14v-1.5H5V19z"}))},"./packages/icons/build-module/library/more-vertical.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}))},"./packages/components/src/palette-edit/stories/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Gradients:()=>Gradients,default:()=>stories});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),dist_es2015=__webpack_require__("./node_modules/param-case/dist.es2015/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),line_solid=__webpack_require__("./packages/icons/build-module/library/line-solid.js"),plus=__webpack_require__("./packages/icons/build-module/library/plus.js"),more_vertical=__webpack_require__("./packages/icons/build-module/library/more-vertical.js"),use_focus_outside=__webpack_require__("./packages/compose/build-module/hooks/use-focus-outside/index.js"),use_debounce=__webpack_require__("./packages/compose/build-module/hooks/use-debounce/index.js"),src_button=__webpack_require__("./packages/components/src/button/index.tsx"),legacy_adapter=__webpack_require__("./packages/components/src/color-picker/legacy-adapter.tsx"),component=__webpack_require__("./packages/components/src/flex/flex-item/component.tsx"),h_stack_component=__webpack_require__("./packages/components/src/h-stack/component.tsx"),item_group_component=__webpack_require__("./packages/components/src/item-group/item-group/component.tsx"),v_stack_component=__webpack_require__("./packages/components/src/v-stack/component.tsx"),gradient_picker=__webpack_require__("./packages/components/src/gradient-picker/index.tsx"),color_palette=__webpack_require__("./packages/components/src/color-palette/index.tsx"),dropdown_menu=__webpack_require__("./packages/components/src/dropdown-menu/index.tsx"),popover=__webpack_require__("./packages/components/src/popover/index.tsx"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),heading_component=__webpack_require__("./packages/components/src/heading/component.tsx"),space=__webpack_require__("./packages/components/src/ui/utils/space.ts"),colors_values=__webpack_require__("./packages/components/src/utils/colors-values.js"),config_values=__webpack_require__("./packages/components/src/utils/config-values.js"),view_component=__webpack_require__("./packages/components/src/view/component.tsx"),input_control=__webpack_require__("./packages/components/src/input-control/index.tsx"),input_control_styles=__webpack_require__("./packages/components/src/input-control/styles/input-control-styles.tsx"),circular_option_picker=__webpack_require__("./packages/components/src/circular-option-picker/index.tsx");const IndicatorStyled=(0,emotion_styled_base_browser_esm.Z)(circular_option_picker.ZP.Option,{target:"e5bw3229"})("width:",(0,space.D)(6),";height:",(0,space.D)(6),";pointer-events:none;"),NameInputControl=(0,emotion_styled_base_browser_esm.Z)(input_control.ZP,{target:"e5bw3228"})(input_control_styles.W2,"{background:",colors_values.D.gray[100],";border-radius:",config_values.Z.controlBorderRadius,";",input_control_styles.II,input_control_styles.II,input_control_styles.II,input_control_styles.II,"{height:",(0,space.D)(8),";}",input_control_styles.Kg,input_control_styles.Kg,input_control_styles.Kg,"{border-color:transparent;box-shadow:none;}}"),PaletteItem=(0,emotion_styled_base_browser_esm.Z)(view_component.Z,{target:"e5bw3227"})("padding:3px 0 3px ",(0,space.D)(3),";height:calc( 40px - ",config_values.Z.borderWidth," );border:1px solid ",config_values.Z.surfaceBorderColor,";border-bottom-color:transparent;&:first-of-type{border-top-left-radius:",config_values.Z.controlBorderRadius,";border-top-right-radius:",config_values.Z.controlBorderRadius,";}&:last-of-type{border-bottom-left-radius:",config_values.Z.controlBorderRadius,";border-bottom-right-radius:",config_values.Z.controlBorderRadius,";border-bottom-color:",config_values.Z.surfaceBorderColor,";}&.is-selected+&{border-top-color:transparent;}&.is-selected{border-color:",colors_values.D.ui.theme,";}"),NameContainer=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e5bw3226"})("line-height:",(0,space.D)(8),";margin-left:",(0,space.D)(2),";margin-right:",(0,space.D)(2),";white-space:nowrap;overflow:hidden;",PaletteItem,":hover &{color:",colors_values.D.ui.theme,";}"),PaletteHeading=(0,emotion_styled_base_browser_esm.Z)(heading_component.Z,{target:"e5bw3225"})("text-transform:uppercase;line-height:",(0,space.D)(6),";font-weight:500;&&&{font-size:11px;margin-bottom:0;}"),PaletteActionsContainer=(0,emotion_styled_base_browser_esm.Z)(view_component.Z,{target:"e5bw3224"})("height:",(0,space.D)(6),";display:flex;"),PaletteHStackHeader=(0,emotion_styled_base_browser_esm.Z)(h_stack_component.Z,{target:"e5bw3223"})("margin-bottom:",(0,space.D)(2),";"),PaletteEditStyles=(0,emotion_styled_base_browser_esm.Z)(view_component.Z,{target:"e5bw3222"})({name:"u6wnko",styles:"&&&{.components-button.has-icon{min-width:0;padding:0;}}"}),DoneButton=(0,emotion_styled_base_browser_esm.Z)(src_button.ZP,{target:"e5bw3221"})("&&{color:",colors_values.D.ui.theme,";}"),RemoveButton=(0,emotion_styled_base_browser_esm.Z)(src_button.ZP,{target:"e5bw3220"})("&&{margin-top:",(0,space.D)(1),";}");var menu=__webpack_require__("./packages/components/src/navigable-container/menu.tsx"),constants=__webpack_require__("./packages/components/src/custom-gradient-picker/constants.ts"),custom_gradient_picker=__webpack_require__("./packages/components/src/custom-gradient-picker/index.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const DEFAULT_COLOR="#000";function NameInput({value,onChange,label}){return(0,jsx_runtime.jsx)(NameInputControl,{label,hideLabelFromVision:!0,value,onChange})}function ColorPickerPopover({isGradient,element,onChange,popoverProps:receivedPopoverProps,onClose=()=>{}}){const popoverProps=(0,react.useMemo)((()=>({shift:!0,offset:20,placement:"left-start",...receivedPopoverProps,className:classnames_default()("components-palette-edit__popover",receivedPopoverProps?.className)})),[receivedPopoverProps]);return(0,jsx_runtime.jsxs)(popover.ZP,{...popoverProps,onClose,children:[!isGradient&&(0,jsx_runtime.jsx)(legacy_adapter.A,{color:element.color,enableAlpha:!0,onChange:newColor=>{onChange({...element,color:newColor})}}),isGradient&&(0,jsx_runtime.jsx)("div",{className:"components-palette-edit__popover-gradient-picker",children:(0,jsx_runtime.jsx)(custom_gradient_picker.Z,{__nextHasNoMargin:!0,__experimentalIsRenderedInSidebar:!0,value:element.gradient,onChange:newGradient=>{onChange({...element,gradient:newGradient})}})})]})}function Option({canOnlyChangeValues,element,onChange,isEditing,onStartEditing,onRemove,onStopEditing,popoverProps:receivedPopoverProps,slugPrefix,isGradient}){const focusOutsideProps=(0,use_focus_outside.Z)(onStopEditing),value=isGradient?element.gradient:element.color,[popoverAnchor,setPopoverAnchor]=(0,react.useState)(null),popoverProps=(0,react.useMemo)((()=>({...receivedPopoverProps,anchor:popoverAnchor})),[popoverAnchor,receivedPopoverProps]);return(0,jsx_runtime.jsxs)(PaletteItem,{className:isEditing?"is-selected":void 0,as:"div",onClick:onStartEditing,ref:setPopoverAnchor,...isEditing?{...focusOutsideProps}:{style:{cursor:"pointer"}},children:[(0,jsx_runtime.jsxs)(h_stack_component.Z,{justify:"flex-start",children:[(0,jsx_runtime.jsx)(component.Z,{children:(0,jsx_runtime.jsx)(IndicatorStyled,{style:{background:value,color:"transparent"}})}),(0,jsx_runtime.jsx)(component.Z,{children:isEditing&&!canOnlyChangeValues?(0,jsx_runtime.jsx)(NameInput,{label:isGradient?(0,build_module.__)("Gradient name"):(0,build_module.__)("Color name"),value:element.name,onChange:nextName=>onChange({...element,name:nextName,slug:slugPrefix+(0,dist_es2015.o)(null!=nextName?nextName:"")})}):(0,jsx_runtime.jsx)(NameContainer,{children:element.name})}),isEditing&&!canOnlyChangeValues&&(0,jsx_runtime.jsx)(component.Z,{children:(0,jsx_runtime.jsx)(RemoveButton,{isSmall:!0,icon:line_solid.Z,label:(0,build_module.__)("Remove color"),onClick:onRemove})})]}),isEditing&&(0,jsx_runtime.jsx)(ColorPickerPopover,{isGradient,onChange,element,popoverProps})]})}function isTemporaryElement(slugPrefix,{slug,color,gradient}){return new RegExp(`^${slugPrefix}color-([\\d]+)$`).test(slug)&&(!!color&&color===DEFAULT_COLOR||!!gradient&&gradient===constants.ob)}function PaletteEditListView({elements,onChange,editingElement,setEditingElement,canOnlyChangeValues,slugPrefix,isGradient,popoverProps}){const elementsReference=(0,react.useRef)();(0,react.useEffect)((()=>{elementsReference.current=elements}),[elements]),(0,react.useEffect)((()=>()=>{if(elementsReference.current?.some((element=>isTemporaryElement(slugPrefix,element)))){const newElements=elementsReference.current.filter((element=>!isTemporaryElement(slugPrefix,element)));onChange(newElements.length?newElements:void 0)}}),[]);const debounceOnChange=(0,use_debounce.Z)(onChange,100);return(0,jsx_runtime.jsx)(v_stack_component.Z,{spacing:3,children:(0,jsx_runtime.jsx)(item_group_component.Z,{isRounded:!0,children:elements.map(((element,index)=>(0,jsx_runtime.jsx)(Option,{isGradient,canOnlyChangeValues,element,onStartEditing:()=>{editingElement!==index&&setEditingElement(index)},onChange:newElement=>{debounceOnChange(elements.map(((currentElement,currentIndex)=>currentIndex===index?newElement:currentElement)))},onRemove:()=>{setEditingElement(null);const newElements=elements.filter(((_currentElement,currentIndex)=>currentIndex!==index));onChange(newElements.length?newElements:void 0)},isEditing:index===editingElement,onStopEditing:()=>{index===editingElement&&setEditingElement(null)},slugPrefix,popoverProps},index)))})})}NameInput.displayName="NameInput",ColorPickerPopover.displayName="ColorPickerPopover",Option.displayName="Option",PaletteEditListView.displayName="PaletteEditListView";const EMPTY_ARRAY=[];function PaletteEdit({gradients,colors=EMPTY_ARRAY,onChange,paletteLabel,paletteLabelHeadingLevel=2,emptyMessage,canOnlyChangeValues,canReset,slugPrefix="",popoverProps}){const isGradient=!!gradients,elements=isGradient?gradients:colors,[isEditing,setIsEditing]=(0,react.useState)(!1),[editingElement,setEditingElement]=(0,react.useState)(null),isAdding=isEditing&&!!editingElement&&elements[editingElement]&&!elements[editingElement].slug,hasElements=elements.length>0,debounceOnChange=(0,use_debounce.Z)(onChange,100),onSelectPaletteItem=(0,react.useCallback)(((value,newEditingElementIndex)=>{const selectedElement=void 0===newEditingElementIndex?void 0:elements[newEditingElementIndex];selectedElement&&selectedElement[isGradient?"gradient":"color"]===value?setEditingElement(newEditingElementIndex):setIsEditing(!0)}),[isGradient,elements]);return(0,jsx_runtime.jsxs)(PaletteEditStyles,{children:[(0,jsx_runtime.jsxs)(PaletteHStackHeader,{children:[(0,jsx_runtime.jsx)(PaletteHeading,{level:paletteLabelHeadingLevel,children:paletteLabel}),(0,jsx_runtime.jsxs)(PaletteActionsContainer,{children:[hasElements&&isEditing&&(0,jsx_runtime.jsx)(DoneButton,{isSmall:!0,onClick:()=>{setIsEditing(!1),setEditingElement(null)},children:(0,build_module.__)("Done")}),!canOnlyChangeValues&&(0,jsx_runtime.jsx)(src_button.ZP,{isSmall:!0,isPressed:isAdding,icon:plus.Z,label:isGradient?(0,build_module.__)("Add gradient"):(0,build_module.__)("Add color"),onClick:()=>{const tempOptionName=function getNameForPosition(elements,slugPrefix){const temporaryNameRegex=new RegExp(`^${slugPrefix}color-([\\d]+)$`),position=elements.reduce(((previousValue,currentValue)=>{if("string"==typeof currentValue?.slug){const matches=currentValue?.slug.match(temporaryNameRegex);if(matches){const id=parseInt(matches[1],10);if(id>=previousValue)return id+1}}return previousValue}),1);return(0,build_module.gB)((0,build_module.__)("Color %s"),position)}(elements,slugPrefix);onChange(gradients?[...gradients,{gradient:constants.ob,name:tempOptionName,slug:slugPrefix+(0,dist_es2015.o)(tempOptionName)}]:[...colors,{color:DEFAULT_COLOR,name:tempOptionName,slug:slugPrefix+(0,dist_es2015.o)(tempOptionName)}]),setIsEditing(!0),setEditingElement(elements.length)}}),hasElements&&(!isEditing||!canOnlyChangeValues||canReset)&&(0,jsx_runtime.jsx)(dropdown_menu.Z,{icon:more_vertical.Z,label:isGradient?(0,build_module.__)("Gradient options"):(0,build_module.__)("Color options"),toggleProps:{isSmall:!0},children:({onClose})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)(menu.ZP,{role:"menu",children:[!isEditing&&(0,jsx_runtime.jsx)(src_button.ZP,{variant:"tertiary",onClick:()=>{setIsEditing(!0),onClose()},className:"components-palette-edit__menu-button",children:(0,build_module.__)("Show details")}),!canOnlyChangeValues&&(0,jsx_runtime.jsx)(src_button.ZP,{variant:"tertiary",onClick:()=>{setEditingElement(null),setIsEditing(!1),onChange(),onClose()},className:"components-palette-edit__menu-button",children:isGradient?(0,build_module.__)("Remove all gradients"):(0,build_module.__)("Remove all colors")}),canReset&&(0,jsx_runtime.jsx)(src_button.ZP,{variant:"tertiary",onClick:()=>{setEditingElement(null),onChange(),onClose()},children:isGradient?(0,build_module.__)("Reset gradient"):(0,build_module.__)("Reset colors")})]})})})]})]}),hasElements&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[isEditing&&(0,jsx_runtime.jsx)(PaletteEditListView,{canOnlyChangeValues,elements,onChange,editingElement,setEditingElement,slugPrefix,isGradient,popoverProps}),!isEditing&&null!==editingElement&&(0,jsx_runtime.jsx)(ColorPickerPopover,{isGradient,onClose:()=>setEditingElement(null),onChange:newElement=>{debounceOnChange(elements.map(((currentElement,currentIndex)=>currentIndex===editingElement?newElement:currentElement)))},element:elements[null!=editingElement?editingElement:-1],popoverProps}),!isEditing&&(isGradient?(0,jsx_runtime.jsx)(gradient_picker.Z,{__nextHasNoMargin:!0,gradients,onChange:onSelectPaletteItem,clearable:!1,disableCustomGradients:!0}):(0,jsx_runtime.jsx)(color_palette.ZP,{colors,onChange:onSelectPaletteItem,clearable:!1,disableCustomColors:!0}))]}),!hasElements&&emptyMessage]})}PaletteEdit.displayName="PaletteEdit";const palette_edit=PaletteEdit;const stories={title:"Components/PaletteEdit",component:palette_edit,parameters:{sourceLink:"packages/components/src/palette-edit",actions:{argTypesRegex:"^on.*"},controls:{expanded:!0},docs:{source:{state:"open"}}}},Template=args=>{const{colors,gradients,onChange,...props}=args,[value,setValue]=(0,react.useState)(gradients||colors);return(0,jsx_runtime.jsx)(palette_edit,{...gradients?{gradients:value,onChange:newValue=>{setValue(newValue),onChange(newValue)}}:{colors:value,onChange:newValue=>{setValue(newValue),onChange(newValue)}},...props})};Template.displayName="Template";const Default=Template.bind({});Default.args={colors:[{color:"#1a4548",name:"Primary",slug:"primary"},{color:"#0000ff",name:"Secondary",slug:"secondary"}],paletteLabel:"Colors",emptyMessage:"Colors are empty",popoverProps:{placement:"bottom-start",offset:8}};const Gradients=Template.bind({});Gradients.args={gradients:[{gradient:"linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%)",name:"Pale ocean",slug:"pale-ocean"},{gradient:"linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%)",name:"Midnight",slug:"midnight"}],paletteLabel:"Gradients",emptyMessage:"Gradients are empty"}}}]);